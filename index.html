<!DOCTYPE html>
<html>
    <head>
        <title>Информатика</title>
        <meta charset="utf8">
        <link rel="stylesheet" href="style.css">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
            onload="renderMathInElement(document.body);"></script>
    </head>
    <body> 
        <div class="rect" style="position: relative;">
            <a id="pride" class="oneItem" href="https://en.wikipedia.org/wiki/Gay_pride#LGBT_Pride_Month">
                <img src="img/flag.svg" height="30px" style="margin-right: 10px;">
                #PrideMonth
            </a>
            <form id="gen">
                <div class="div-label">
                    <label>
                        <input type="text" name="v_1" value="0.6">
                        \(v_1\) в пикселях в милисекунду
                    </label>
                </div>
                <div class="div-label">
                    <label>
                        <input type="text" name="diameter" value="30">
                        Диаметр в пикселях (всего доступно <span id="TotalLength"></span> пикс.)
                </div>
            </form>
            <div style="margin-left: 10px">
                <div class="oneItem">
                    <div class="small" style="background-color: var(--m1-color);"></div>
                    <div>\(m=1\)</div>
                </div>
                <div class="oneItem">
                    <div class="small" style="background-color: var(--m2-color);"></div>
                    <div>\(m=4\)</div>
                </div>
            </div>
        </div>

        <div class="rect">
            <form id="animef">
                <div class="div-label">
                    <label>
                        <input type="text" name="playrate" value="50">
                        кадров в секунду
                    </label>
                </div>
                <div class="div-label">
                    <label>
                        <input type="text" name="t_k_t" value="5">
                        \(t_{инверсии} / t_0\)
                        (\(t_0\) - это следующее столкновение после того, как последний шарик начал двигаться)
                    </label>
                </div>
                <div class="div-label">
                    <label>
                        <input type="text" name="v1_err" value="0">
                        \(\Delta v\) первого шарика в момент инверсии
                    </label>
                </div>
            </form>
            <div class="div-label">
                <button onclick="main(`anime`)" class="butt">Запустить анимацию</button>
            </div>
        </div>

        <template id="graphTempl">
            <div class="big rect">
                <div class="head"></div>
                <svg xmlns = "http://www.w3.org/2000/svg"></svg>
            </div>
        </template>
        <div class="rect" style="display: flex; flex-direction: column;">
            <svg xmlns = "http://www.w3.org/2000/svg" id="anime"></svg>
        </div>

        <div class="rect">
            <form id="ef">
                <div class="div-label">
                    <label>
                        <input type="text" name="stop" value="10000">
                        \(t_{остановки} / t_0\)
                    </label>
                </div>
                <div class="div-label">
                    <label>
                        <input type="text" name="deltaT" value="100">
                        \(\Delta t / t_0\)
                    </label>
                </div>
            </form>
            <div class="div-label">
                <button onclick="main(`plot`)" class="butt">Построить график</button>
            </div>
        </div>

        <graph-element name="Усреднённая по <span>\Delta t</span> энергия <span>=f(t)</span>" id="energy"></graph-element>

        <div class="rect">
            <form id="di">
                <div class="div-label">
                    <label>
                        <input type="text" name="Nintervals" value="100">
                        На сколько интервалов надо разбить промежутки \([-v_1; v_1]\) и \([0; E_1]\)
                    </label>
                </div>
                <div class="div-label">
                    <label>
                        <input type="text" name="Ndots" value="1000">
                        Сколько случаев набрать для статистики
                    </label>
                </div>
            </form>
            <div class="div-label">
                <button onclick="main(`distr`)" class="butt">Построить распределения</button>
            </div>
        </div>
        <graph-element name="Распределение по скоростям" id="vel_dist"></graph-element>
        <graph-element name="Распределение по энергиям" id="en_dist"></graph-element>
    </body>
    <script src="./j/helpers.js"></script>
    <script src="./j/simulators.js"></script>
    <script src="./j/graph-element.js"></script>
    <script src="./j/anime.js"></script>
    <script src="./j/distributions.js"></script>
    <script src="./j/main.js"></script>
    <script>document.getElementById("TotalLength").innerText = Math.round(document.getElementById("anime").getBoundingClientRect().width).toString();</script>
</html>